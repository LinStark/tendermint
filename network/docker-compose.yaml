version: 2
services:
  TTANode1:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode1
    hostname: TTANode1
    tty: true
    volumes: ['/home/centos/network/TTANode1:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=12084477fee06eb793869beb14d88b09fb9eda12@TTANode5:26656,9308ea5aade60337b485d39ee4eee7e9951195d7@TTANode3:26656,36e3933d40d48d7bb1844aac64bb027b0356448f@TTANode2:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode1]
  TTANode2:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode2
    hostname: TTANode2
    tty: true
    volumes: ['/home/centos/network/TTANode2:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=7688351078294959d9b1538b531eefa31979e5f1@TTANode1:26656,5aa1f47eb0079356a13ccfee21ba333800c7bc18@TTANode4:26656,f2f5de6a5fa534e8bf613f81c7fca71264f1d477@TTANode6:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode2]
  TTANode3:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode3
    hostname: TTANode3
    tty: true
    volumes: ['/home/centos/network/TTANode3:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=7688351078294959d9b1538b531eefa31979e5f1@TTANode1:26656,2efd7ef279251253994b7e81ddea15bd80faf634@TTANode7:26656,5aa1f47eb0079356a13ccfee21ba333800c7bc18@TTANode4:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode3]
  TTANode4:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode4
    hostname: TTANode4
    tty: true
    volumes: ['/home/centos/network/TTANode4:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=9308ea5aade60337b485d39ee4eee7e9951195d7@TTANode3:26656,36e3933d40d48d7bb1844aac64bb027b0356448f@TTANode2:26656,d44946802f24753f1f5366b5ab9c6bb77a61631b@TTANode8:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode4]
  TTANode5:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode5
    hostname: TTANode5
    tty: true
    volumes: ['/home/centos/network/TTANode5:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=7688351078294959d9b1538b531eefa31979e5f1@TTANode1:26656,2efd7ef279251253994b7e81ddea15bd80faf634@TTANode7:26656,f2f5de6a5fa534e8bf613f81c7fca71264f1d477@TTANode6:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode5]
  TTANode6:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode6
    hostname: TTANode6
    tty: true
    volumes: ['/home/centos/network/TTANode6:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=12084477fee06eb793869beb14d88b09fb9eda12@TTANode5:26656,d44946802f24753f1f5366b5ab9c6bb77a61631b@TTANode8:26656,36e3933d40d48d7bb1844aac64bb027b0356448f@TTANode2:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode6]
  TTANode7:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode7
    hostname: TTANode7
    tty: true
    volumes: ['/home/centos/network/TTANode7:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=12084477fee06eb793869beb14d88b09fb9eda12@TTANode5:26656,9308ea5aade60337b485d39ee4eee7e9951195d7@TTANode3:26656,d44946802f24753f1f5366b5ab9c6bb77a61631b@TTANode8:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode7]
  TTANode8:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTANode8
    hostname: TTANode8
    tty: true
    volumes: ['/home/centos/network/TTANode8:/tendermint']
    environment: [TASKID=A]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=5aa1f47eb0079356a13ccfee21ba333800c7bc18@TTANode4:26656,f2f5de6a5fa534e8bf613f81c7fca71264f1d477@TTANode6:26656,2efd7ef279251253994b7e81ddea15bd80faf634@TTANode7:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttAnode8]
services:
  TTBNode1:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode1
    hostname: TTBNode1
    tty: true
    volumes: ['/home/centos/network/TTBNode1:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=c7c0339f73415962332afa7584e4e30b23b1cc35@TTBNode5:26656,93ba93d04745c7527a7edc234cdc2b32b4fd5bc1@TTBNode3:26656,6734fd145c9a1b821a4e6ef8b67fb2140dc3dffc@TTBNode2:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode1]
  TTBNode2:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode2
    hostname: TTBNode2
    tty: true
    volumes: ['/home/centos/network/TTBNode2:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=98f3f86f0d5c1623bef4ed13f1473aba8924a049@TTBNode1:26656,6281538822ea2addeb1930cdb63e1de650b8ba2a@TTBNode4:26656,5be4b26798f0d277fd998574a8b1c11d5ef841e0@TTBNode6:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode2]
  TTBNode3:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode3
    hostname: TTBNode3
    tty: true
    volumes: ['/home/centos/network/TTBNode3:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=98f3f86f0d5c1623bef4ed13f1473aba8924a049@TTBNode1:26656,e010f331e4af5fe381877284ea6e14474001dc91@TTBNode7:26656,6281538822ea2addeb1930cdb63e1de650b8ba2a@TTBNode4:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode3]
  TTBNode4:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode4
    hostname: TTBNode4
    tty: true
    volumes: ['/home/centos/network/TTBNode4:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=93ba93d04745c7527a7edc234cdc2b32b4fd5bc1@TTBNode3:26656,6734fd145c9a1b821a4e6ef8b67fb2140dc3dffc@TTBNode2:26656,bae3bc51770e16bc4d909346ba1f2aa146176d4e@TTBNode8:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode4]
  TTBNode5:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode5
    hostname: TTBNode5
    tty: true
    volumes: ['/home/centos/network/TTBNode5:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=98f3f86f0d5c1623bef4ed13f1473aba8924a049@TTBNode1:26656,e010f331e4af5fe381877284ea6e14474001dc91@TTBNode7:26656,5be4b26798f0d277fd998574a8b1c11d5ef841e0@TTBNode6:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode5]
  TTBNode6:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode6
    hostname: TTBNode6
    tty: true
    volumes: ['/home/centos/network/TTBNode6:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=c7c0339f73415962332afa7584e4e30b23b1cc35@TTBNode5:26656,bae3bc51770e16bc4d909346ba1f2aa146176d4e@TTBNode8:26656,6734fd145c9a1b821a4e6ef8b67fb2140dc3dffc@TTBNode2:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode6]
  TTBNode7:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode7
    hostname: TTBNode7
    tty: true
    volumes: ['/home/centos/network/TTBNode7:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=c7c0339f73415962332afa7584e4e30b23b1cc35@TTBNode5:26656,93ba93d04745c7527a7edc234cdc2b32b4fd5bc1@TTBNode3:26656,bae3bc51770e16bc4d909346ba1f2aa146176d4e@TTBNode8:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode7]
  TTBNode8:
    image: 10.77.70.142:5000/tendermint:v0.4
    container_name: TTBNode8
    hostname: TTBNode8
    tty: true
    volumes: ['/home/centos/network/TTBNode8:/tendermint']
    environment: [TASKID=B]
    entrypoint: [sh, -c, 'tendermint node --p2p.persistent_peers=6281538822ea2addeb1930cdb63e1de650b8ba2a@TTBNode4:26656,5be4b26798f0d277fd998574a8b1c11d5ef841e0@TTBNode6:26656,e010f331e4af5fe381877284ea6e14474001dc91@TTBNode7:26656
        --moniker=`hostname` --proxy_app=persistent_kvstore --consensus.create_empty_blocks=false']
    networks:
      tendermintnet1:
        aliases: [ttBnode8]
  etcd1:
    container_name: etcd1
    image: 10.77.70.142:5000/etcd:v3.3.10
    ports:
      - "2379:2379"
      - "2380:2380"
    environment:
      - TZ=CST-8
      - LANG=zh_CN.UTF-8
    networks:
      tendermintnet1:
        aliases:
          - etcd1
    command: /usr/local/bin/etcd
      -name etcd1
      -advertise-client-urls http://etcd1:2379
      -listen-client-urls http://0.0.0.0:2379
      -initial-advertise-peer-urls http://etcd1:2380
      -listen-peer-urls http://0.0.0.0:2380
      -initial-cluster-token docker-etcd
      -initial-cluster etcd1=http://etcd1:2380,etcd2=http://etcd2:2380,etcd3=http://etcd3:2380,etcd4=http://etcd4:2380
      -initial-cluster-state new
    volumes:
      - "/usr/share/ca-certificates/:/etc/ssl/certs"
      # - "/data/config/etcd/ca-certificates/:/etc/ssl/certs"
    labels:
      - project.source=
      - project.extra=public-image
      - project.depends=
      - project.owner=LHZ

  etcd2:
    container_name: etcd2
    image: 10.77.70.142:5000/etcd:v3.3.10
    ports:
      - "3379:2379"
      - "3380:2380"
    environment:
      - TZ=CST-8
      - LANG=zh_CN.UTF-8
    networks:
      tendermintnet1:
        aliases:
          - etcd2
    command: /usr/local/bin/etcd
      -name etcd2
      -advertise-client-urls http://etcd2:2379
      -listen-client-urls http://0.0.0.0:2379
      -initial-advertise-peer-urls http://etcd2:2380
      -listen-peer-urls http://0.0.0.0:2380
      -initial-cluster-token docker-etcd
      -initial-cluster etcd1=http://etcd1:2380,etcd2=http://etcd2:2380,etcd3=http://etcd3:2380,etcd4=http://etcd4:2380
      -initial-cluster-state new
    volumes:
      - "/usr/share/ca-certificates/:/etc/ssl/certs"
      # - "/data/config/etcd/ca-certificates/:/etc/ssl/certs"
    labels:
      - project.source=
      - project.extra=public-image
      - project.depends=
      - project.owner=LHZ
  etcd3:
    container_name: etcd3
    image: 10.77.70.142:5000/etcd:v3.3.10
    ports:
      - "4379:2379"
      - "4380:2380"
    environment:
      - TZ=CST-8
      - LANG=zh_CN.UTF-8
    networks:
      tendermintnet1:
        aliases:
          - etcd3
    command: /usr/local/bin/etcd
      -name etcd3
      -advertise-client-urls http://etcd3:2379
      -listen-client-urls http://0.0.0.0:2379
      -initial-advertise-peer-urls http://etcd3:2380
      -listen-peer-urls http://0.0.0.0:2380
      -initial-cluster-token docker-etcd
      -initial-cluster etcd1=http://etcd1:2380,etcd2=http://etcd2:2380,etcd3=http://etcd3:2380,etcd4=http://etcd4:2380
      -initial-cluster-state new
    volumes:
      - "/usr/share/ca-certificates/:/etc/ssl/certs"
      # - "/data/config/etcd/ca-certificates/:/etc/ssl/certs"
    labels:
      - project.source=
      - project.extra=public-image
      - project.depends=
      - project.owner=LHZ
  etcd4:
    container_name: etcd4
    image: 10.77.70.142:5000/etcd:v3.3.10
    ports:
      - "5379:2379"
      - "5380:2380"
    environment:
      - TZ=CST-8
      - LANG=zh_CN.UTF-8
    networks:
      tendermintnet1:
        aliases:
          - etcd4
    command: /usr/local/bin/etcd
      -name etcd4
      -advertise-client-urls http://etcd4:2379
      -listen-client-urls http://0.0.0.0:2379
      -initial-advertise-peer-urls http://etcd4:2380
      -listen-peer-urls http://0.0.0.0:2380
      -initial-cluster-token docker-etcd
      -initial-cluster etcd1=http://etcd1:2380,etcd2=http://etcd2:2380,etcd3=http://etcd3:2380,etcd4=http://etcd4:2380
      -initial-cluster-state new
    volumes:
      - "/usr/share/ca-certificates/:/etc/ssl/certs"
      # - "/data/config/etcd/ca-certificates/:/etc/ssl/certs"
    labels:
      - project.source=
      - project.extra=public-image
      - project.depends=
      - project.owner=LHZ

networks:
  tendermintnet1:
    driver: host
